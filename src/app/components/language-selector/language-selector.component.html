<button mat-button [matMenuTriggerFor]="languageMenu" class="language-selector">
  <span class="flag">{{ currentLanguage.flag }}</span>
  <span class="language-name">{{ currentLanguage.name }}</span>
  <mat-icon>arrow_drop_down</mat-icon>
</button>

<mat-menu #languageMenu="matMenu" class="language-menu">
  <button mat-menu-item *ngFor="let language of languages" (click)="selectLanguage(language)" [class.active]="language.code === currentLanguage.code">
    <span class="flag">{{ language.flag }}</span>
    <span class="language-name">{{ language.name }}</span>
    <span class="native-name">{{ language.nativeName }}</span>
    <mat-icon *ngIf="language.code === currentLanguage.code" class="check-icon">check</mat-icon>
  </button>
</mat-menu>